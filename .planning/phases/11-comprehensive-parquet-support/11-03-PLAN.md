---
phase: 11-comprehensive-parquet-support
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - pyproject.toml
autonomous: true

must_haves:
  truths:
    - "pyproject.toml references wvaske/dlio_benchmark fork with parquet-support branch"
    - "Both dlio and full optional dependency groups use the fork URL"
  artifacts:
    - path: "pyproject.toml"
      provides: "Updated DLIO fork dependency reference"
      contains: "wvaske/dlio_benchmark.*parquet-support"
  key_links: []
---

<objective>
Update pyproject.toml to reference the wvaske/dlio_benchmark fork with parquet-support branch as the DLIO dependency.

Purpose: Users installing mlpstorage get the fork with parquet support by default.
Output: Updated pyproject.toml with fork URL.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/11-comprehensive-parquet-support/11-CONTEXT.md
@pyproject.toml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update DLIO dependency to fork URL</name>
  <files>pyproject.toml</files>
  <action>
In pyproject.toml, replace the two occurrences of the DLIO dependency URL:

Replace:
```
"dlio-benchmark @ git+https://github.com/argonne-lcf/dlio_benchmark.git@mlperf_storage_v2.0",
```

With:
```
"dlio-benchmark @ git+https://github.com/wvaske/dlio_benchmark.git@parquet-support",
```

This appears in two places:
1. `[project.optional-dependencies]` -> `dlio` group (line 24)
2. `[project.optional-dependencies]` -> `full` group (line 35)

Both must be updated to the same fork URL.

Do NOT change any other dependencies or configuration.
  </action>
  <verify>Run `grep -n "wvaske/dlio_benchmark" pyproject.toml` from project root. Should show 2 lines with the fork URL. Run `grep -n "argonne-lcf" pyproject.toml` should return no results.</verify>
  <done>Both dlio and full dependency groups reference git+https://github.com/wvaske/dlio_benchmark.git@parquet-support</done>
</task>

</tasks>

<verification>
- `grep "wvaske/dlio_benchmark" pyproject.toml` returns exactly 2 matches
- `grep "argonne-lcf" pyproject.toml` returns 0 matches
- `pip install -e ".[dlio]" --dry-run` resolves to the fork URL (if pip available)
</verification>

<success_criteria>
- pyproject.toml references wvaske/dlio_benchmark@parquet-support in both dlio and full groups
- No references to argonne-lcf/dlio_benchmark remain
</success_criteria>

<output>
After completion, create `.planning/phases/11-comprehensive-parquet-support/11-03-SUMMARY.md`
</output>
